<!DOCTYPE html>
<html>
  <head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script src="/__/firebase/7.12.0/firebase-app.js"></script>
  <!-- TODO: Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#available-libraries -->
  <script src="/__/firebase/7.12.0/firebase-analytics.js"></script>
  <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
  <script src="https://unpkg.com/@mapbox/mapbox-sdk/umd/mapbox-sdk.min.js"></script>
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />

  <!-- Initialize Firebase -->
  <script src="/__/firebase/init.js"></script>
  <script src="/__/firebase/7.12.0/firebase-auth.js"></script>
  <script src="/__/firebase/7.12.0/firebase-database.js"></script>
  <script src="/__/firebase/7.12.0/firebase-functions.js"></script>
  <script type="text/javascript">
    var functions = firebase.functions();
    var auth = firebase.auth();
    var signingOut = false;
    auth.onAuthStateChanged(function(user) {
      
        if (!user) {
          if(signingOut) {
            window.location.href = "homepage.html";
          } else {
            alert("No User is logged in!");
            window.location.href = "/";
          }
        } else {
          // there is a logged in user, check if they have completed the registration process
          var checkRegistrationStatus = firebase.functions().httpsCallable('checkRegistrationStatus');
          checkRegistrationStatus({uid: auth.currentUser.uid}).then(function(result) {
            if(result.data) {
              // they have completed the registration process (account setup)
              removeLoading();
            } else {
              window.location.href = "accountsetup.html";
            }
          })

        }
    });
  </script>

  <style>
    body {
      margin: 0;
      font-family: "Lato", sans-serif;
    }

    a {
      cursor: pointer;
    }

    .sidebaropen {
      margin: 0;
      padding: 0;
      width: 250px;
      background-color: #25262D;
      position: fixed;
      height: 100%;
      overflow: auto;
      z-index: 1;
      top: 0;
      left: 0;
      overflow-x: hidden;
      padding-top: 60px;
      transition: 0.5s;
    }

    .sidebaropen a {
      display: block;
      color: white;
      padding: 18px;
      text-decoration: none;
      border-top: 0.5px solid #606060;
      border-bottom: 0.5px solid #606060;
      /*border-bottom: 0.5px solid #606060;
      border-left: 0.5px solid #606060;*/
    }
     
    .sidebaropen a.active {
      background-color: #419385;
      color: white;
      text-decoration-style: bold;
    }

    .sidebaropen a:hover:not(.active) {
      background-color: #89CAD4;
      color: white;
    }

    .sidebaropen .closebtn {
      position: absolute;
      top: 0;
      right: 0px;
      margin-left: 50px;
      border-width: 0px; 
      font-size: 26px;
    }

    .sidebaropen a.closebtn:hover {
      color: #f1f1f1;
      background-color: #25262D;
    }

    #home {
      margin-top: 10px;
    }

    div.content {
      margin-left: 250px;
      padding: 1px 16px;
      height: 1000px;
      transition: 0.5s;
    }

    svg{
      width: 100px;
      height: 100px;
      left: 50%;
      display:inline-block;
    }
    svg circle {
      stroke: #419385;
    }
    svg rect {
      fill: #89CAD4;
    }
    #loadingAnimation {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      z-index: 3;
    }

    #settingsDiv {
      margin: 0 auto;
      position: relative;
      overflow: hidden;
    }

    .notif {
      background-color: #419385;
      border-radius: 20px;
      padding: 10px;
      width: 70%;
      margin: 0 auto;
      margin-bottom: 3%;
      position: relative;
      overflow: hidden;
      transition: background-color 0.25s;
      -webkit-transition: background-color 0.25s;
    }
    .notif:hover {
      background-color: #89CAD4;
    }
    .notif p {
      color: white;
    }
    .notif #title {
      font-size: 25px;
    }
    #nonotifs {
      color: grey;
      font-style: italic;
      margin-top: 20%;
    }

    .autocomplete {
            position: relative;
            display: inline-block;
        }

        #map{
      position: relative;
      top: 20px;
      bottom: 0;
      width: 100%;
      height: 300px;
    }

        input {
            border: 1px solid transparent;
            background-color: #f1f1f1;
            padding: 10px;
            font-size: 16px;
        }

        input[type=text] {
            background-color: #f1f1f1;
            width: 100%;
        }

        button[type=submit] {
          border: 1px solid transparent;
          background-color: #f1f1f1;
            background-color: DodgerBlue;
            padding: 10px;
            font-size: 16px;
            color: #fff;
            cursor: pointer;
        }

        #confirmButton {
          margin-top: 5px;
        }

        .autocomplete-items {
            position: absolute;
            border: 1px solid #d4d4d4;
            border-bottom: none;
            border-top: none;
            z-index: 99;
            /*position the autocomplete items to be the same width as the container:*/
            top: 100%;
            left: 0;
            right: 0;
        }

        .autocomplete-items div {
            padding: 10px;
            cursor: pointer;
            background-color: #fff;
            border-bottom: 1px solid #d4d4d4;
        }

        /*when hovering an item:*/
        .autocomplete-items div:hover {
            background-color: #e9e9e9;
        }

        /*when navigating through the items using the arrow keys:*/
        .autocomplete-active {
            background-color: DodgerBlue !important;
            color: #ffffff;
        }


    @media screen and (max-width: 700px) {
      .sidebar {
        width: 100%;
        height: auto;
        position: relative;
      }
      .sidebar a {float: left;}
      div.content {margin-left: 0;}
    }

    @media screen and (max-width: 400px) {
      .sidebar a {
        text-align: center;
        float: none;
      }
    }

    @media screen and (max-height: 450px) {
      .sidebar {padding-top: 15px;}
      .sidebar a {font-size: 18px;}
    }
  </style>
  </head>
  <body onload="displayLoading();">

    <div id="fullBackgroundContainer">
      <div id="loadingAnimation" class="center" hidden=true>
    <svg version="1.1" id="L1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">
    <circle fill="none" stroke-width="6" stroke-miterlimit="15" stroke-dasharray="14.2472,14.2472" cx="50" cy="50" r="47" >
      <animateTransform 
         attributeName="transform" 
         attributeType="XML" 
         type="rotate"  
         dur="5s" 
         from="0 50 50"
         to="360 50 50" 
         repeatCount="indefinite" />
  </circle>
  <circle fill="none" stroke="#fff" stroke-width="1" stroke-miterlimit="10" stroke-dasharray="10,10" cx="50" cy="50" r="39">
      <animateTransform 
         attributeName="transform" 
         attributeType="XML" 
         type="rotate"
         dur="5s" 
         from="0 50 50"
         to="-360 50 50" 
         repeatCount="indefinite" />
  </circle>
  <g fill="#fff">
  <rect x="30" y="35" width="5" height="30">
    <animateTransform 
       attributeName="transform" 
       dur="1s" 
       type="translate" 
       values="0 5 ; 0 -5; 0 5" 
       repeatCount="indefinite" 
       begin="0.1"/>
  </rect>
  <rect x="40" y="35" width="5" height="30" >
    <animateTransform 
       attributeName="transform" 
       dur="1s" 
       type="translate" 
       values="0 5 ; 0 -5; 0 5" 
       repeatCount="indefinite" 
       begin="0.2"/>
  </rect>
  <rect x="50" y="35" width="5" height="30" >
    <animateTransform 
       attributeName="transform" 
       dur="1s" 
       type="translate" 
       values="0 5 ; 0 -5; 0 5" 
       repeatCount="indefinite" 
       begin="0.3"/>
  </rect>
  <rect x="60" y="35" width="5" height="30" >
    <animateTransform 
       attributeName="transform" 
       dur="1s" 
       type="translate" 
       values="0 5 ; 0 -5; 0 5"  
       repeatCount="indefinite" 
       begin="0.4"/>
  </rect>
  <rect x="70" y="35" width="5" height="30" >
    <animateTransform 
       attributeName="transform" 
       dur="1s" 
       type="translate" 
       values="0 5 ; 0 -5; 0 5" 
       repeatCount="indefinite" 
       begin="0.5"/>
  </rect>
  </g>
</svg>
  </div>


      <div id="mySidebar" class="sidebaropen">
        <a class="closebtn" id="closebtn" onclick="navOperator()" data-open=true>&times;</a>
        <a id="home" onclick="homeClicked();">Home</a>
        <a id="notifications" onclick="notificationsClicked()">Notifications</a>
        <a id="reservations" onclick="reservationsClicked();">Reservations</a>
        <a id="requests" onclick="requestsClicked();">Requests</a>
        <a id="news" onclick="newsClicked();">Covid-19 Awareness</a>
        <a id="settings" onclick="settingsClicked();">Settings</a>
        <a id="logout" onclick="logout();">Logout</a>

      </div>

      <!--<div id="main">
        <button class="openbtn" onclick="openNav()">&#9776; Open Sidebar</button>
      </div>-->

      <div class="content" id="contentDiv">
        <div id="homeDiv">
          <h1>Home</h1>
        </div>

        <div id="notificationsDiv"></div>

        <div id="reservationsDiv">
          <h1>Reservations</h1>
          <div class="autocomplete" style="width:300px;">
            <input id="myInput" type="text" name="myCountry" placeholder="location">
          </div>
          <button type="submit">Submit</button>
          <div id="map"></div>
        </div>

        <div id="requestsDiv">
          <h1>Requests</h1>
        </div>

        <div id="newsDiv">
          <h1>Covid-19 Awarness</h1>
        </div>

        <div id="settingsDiv" class="container">
          <div id="header" class="page-header">
            <h1>Settings</h1>
          </div>
          <div id="form" class="jumbotron">
            <form action="#" id="changes" method="post">
              <div id="selMed" class="form-group">
                <label for="medSelect">Medical Condition<b data-toggle="tooltip" title="Any conditions that poses you at a higher risk, e.g., asthma, chronic lung disease, heart conditions, immunocompromised, etc.">?</b></label>
                <select class="form-control" id="medSelect">
                  <option id="selNo">No</option>
                  <option id="selYes">Yes</option>
                </select>
              </div>
              <div id="selHelper" class="form-group">
                <label for="helperSelect">Helper<b data-toggle="tooltip" title="Person who volunteers to help people in need. This option can be changed in account settings later.">?</b></label>
                <select class="form-control" id="helperSelect">
                  <option id="selNo">No</option>
                  <option id="selYes">Yes</option>
                </select>
              </div>
              <div id="selRad" class="form-group">
                <label for="radiusSelect">Preferred radius (miles)</label>
                <select class="form-control" id="radiusSelect">
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                </select>
              </div>
            </form>
            <div id="changePasswd" align="center">
              <input id="changePw" type="button" class="btn" onclick="changePasswordClicked();" value="Change Password">
            </div>
            <div id="confirmButton" align="center">
              <input id="confirm" type="button" class="btn" value="Save Changes">
            </div>
          </div>
        </div>
      </div>
    </div>


    <script type="text/javascript">
      function makeActive(id) {
        let activeList = document.getElementsByClassName("active")
        if (activeList.length == 1) {
          activeList[0].classList.remove("active");
        }
        document.getElementById(id).classList.add("active");
        //let contentDiv = document.getElementById("contentDiv");
        let childNodes = $("#contentDiv").children();
        let div = document.getElementById(id+"Div");
        for(var i=0;i<childNodes.length;i++) {
          if(childNodes[i].id == div.id) {
            $("#"+id+"Div").show();
            continue;
          } else {
            $("#"+childNodes[i].id).hide();
          }
        }
      }

      function displayLoading() {
        $('#fullBackgroundContainer *').attr("disabled", "disabled").off('click');
        document.getElementById('loadingAnimation').hidden = false;
      }

      function removeLoading() {
        $('#fullBackgroundContainer *').attr("disabled", false).on('click');
        document.getElementById('loadingAnimation').hidden = true;
      }

      function navOperator() {
        // opens or closes the tag depending on current state
        if(document.getElementById('closebtn').dataset.open == "true") {
          document.getElementById('closebtn').dataset.open = "false";
          document.getElementById("mySidebar").style.width = "50px";
          document.getElementById("contentDiv").style.marginLeft = "50px"
          document.getElementById("closebtn").innerHTML = "&#9776";
          document.getElementById("home").innerHTML = "<i class='glyphicon glyphicon-home'></i>";
          document.getElementById("notifications").innerHTML = "<i class='glyphicon glyphicon-bell'></i>";
          document.getElementById("reservations").innerHTML = "<i class='glyphicon glyphicon-book'></i>";
          document.getElementById("requests").innerHTML = "<i class='glyphicon glyphicon-shopping-cart'></i>";
          document.getElementById("news").innerHTML = "<i class='glyphicon glyphicon-bullhorn'></i>";
          document.getElementById("settings").innerHTML = "<i class='glyphicon glyphicon-cog'></i>";
          document.getElementById("logout").innerHTML = "<i class='glyphicon glyphicon-log-out'></i>";
        } else {
          document.getElementById('closebtn').dataset.open = "true";
          document.getElementById("mySidebar").style.width = "250px";
          document.getElementById("contentDiv").style.marginLeft = "250px"
          document.getElementById("closebtn").innerHTML = "&times";
          document.getElementById("home").innerHTML = "Home";
          document.getElementById("notifications").innerHTML = "Notifications";
          document.getElementById("reservations").innerHTML = "Reservations";
          document.getElementById("requests").innerHTML = "Requests";
          document.getElementById("news").innerHTML = "Covid-19 Awareness";
          document.getElementById("settings").innerHTML = "Settings";
          document.getElementById("logout").innerHTML = "Logout";
        }
      }

      function changePasswordClicked() {
        let confirmation = confirm("Are you sure that you would like to change your password? An email will be sent to you to enable you to do so.")
        if(confirmation) {
          displayLoading();
          auth.sendPasswordResetEmail(auth.currentUser.email).then(function(result) {
            alert("An email has been sent to you with a password reset link.");
            removeLoading();
          }).catch(function(error) {
            alert("For security reasons, you will have to be logged out. Upon logging back in with your credentials, you will be able to attempt to complete this action again.");
            auth.signOut();
          })
        }
      }

      function homeClicked() {
        makeActive("home");
      }

      function notificationsClicked() {
        makeActive("notifications");
        displayLoading();
        let notificationsDiv = document.getElementById("notificationsDiv");
        // clearing the div to get rid of previous notifications
        notificationsDiv.innerHTML = "";
        var title = document.createElement("h1");
        title.id = "notifsTitle";
        title.innerHTML = "Notifications";
        notificationsDiv.appendChild(title);
        var notifGet = firebase.functions().httpsCallable('getNotificationsForUser');
        notifGet({uid: auth.currentUser.uid}).then(function(result) {
          var data = result.data;
          if(Object.keys(result.data).length > 0) {

            Object.keys(result.data).forEach(function(key) {
              var notifDiv = document.createElement("div");
              notifDiv.classList.add("notif");
              var title = document.createElement("p");
              title.id = "title";
              title.innerHTML = result.data[key].title;
              var text = document.createElement("p");
              text.id = "text";
              text.innerHTML = result.data[key].text;
              var date = document.createElement("p");
              date.id = "date";
              date.innerHTML = result.data[key].date;
              notifDiv.appendChild(title);
              notifDiv.appendChild(text);
              notifDiv.appendChild(date);
              notificationsDiv.appendChild(notifDiv);
            });
          } else {
            // no notifications to show to the user
            var nope = document.createElement("p");
            nope.id = "nonotifs";
            nope.align = "center";
            nope.innerHTML = "No notifications to display.";
            notificationsDiv.appendChild(nope);
          }
        })
        removeLoading();

      }

      function reservationsClicked() {
        makeActive("reservations");
      }

      function newsClicked() {
        makeActive("news");
      }

      function settingsClicked() {
        makeActive("settings");
        displayLoading();
        var medSelector = document.getElementById("medSelect");
        var helperSelector = document.getElementById("helperSelect");
        var radiusSelector = document.getElementById("radiusSelect");
        var getSettingsData = firebase.functions().httpsCallable('getSettingsData');
        getSettingsData({uid: auth.currentUser.uid}).then(function(result) {
          medSelector.value = result.data.medConditions ? result.data.medConditions : "No";
          helperSelector.value = result.data.helper;
          radiusSelector.value = result.data.radius;
          removeLoading();
        }).catch(function(error) {
          console.log(error);
          alert("An error occured while fetching your current settings.");
          removeLoading();
        })
      }

      function requestsClicked() {
        makeActive("requests");
      }

      function logout() {
        signingOut = true;
        auth.signOut();
      }

      makeActive("home");

    </script>

    <script>
// scripts for the reservation page
  var coordsLng;
  var coordsLat;
  var map;
  var selectedLocationMarker;

  function setCurrentPos(position) {
    console.log('here1')
    coordsLng = position.coords.longitude;
    coordsLat = position.coords.latitude;
    setMapToCurrentPos(position)
  }

  function setMapToCurrentPos(position) {
    console.log('here')
    mapboxgl.accessToken = 'pk.eyJ1IjoiaHVjY2FsIiwiYSI6ImNrODdta3FwYTAxaTAzbW1lbjZ3dXc2bTYifQ.bCvPCM3ThA-UbWLF4-Eqnw';
    map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [position.coords.longitude, position.coords.latitude],
    zoom: 13
    });

    map.addControl(new mapboxgl.NavigationControl());
    map.addControl(
      new mapboxgl.GeolocateControl({
        positionOptions: {
          enableHighAccuracy: true
        },
        trackUserLocation: true
      })
    );

    var marker = new mapboxgl.Marker({
    draggable: true
    })
    .setLngLat([position.coords.longitude, position.coords.latitude])
    .addTo(map);
    marker.on('dragend', onDragEnd);
  }

  function setMapToPredefinedPos() {
    mapboxgl.accessToken = 'pk.eyJ1IjoiaHVjY2FsIiwiYSI6ImNrODdta3FwYTAxaTAzbW1lbjZ3dXc2bTYifQ.bCvPCM3ThA-UbWLF4-Eqnw';
    map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [-0.13044, 51.5099],
    zoom: 13
    });

    map.addControl(new mapboxgl.NavigationControl());
    map.addControl(
      new mapboxgl.GeolocateControl({
        positionOptions: {
          enableHighAccuracy: true
        },
        trackUserLocation: true
      })
    );

    var marker = new mapboxgl.Marker({
    draggable: true
    })
    .setLngLat([-0.13044, 51.5099])
    .addTo(map);
    marker.on('dragend', onDragEnd);
    coordsLng = -0.13044;
    coordsLat = 51.5099;
  }

  function onDragEnd() {
    var lngLat = marker.getLngLat();
    coordinates.style.display = 'block';
    coordinates.innerHTML =
    'Longitude: ' + lngLat.lng + '<br />Latitude: ' + lngLat.lat;
  }

  navigator.geolocation.getCurrentPosition(setCurrentPos, setMapToPredefinedPos);

    var geocodingClient = mapboxSdk({accessToken: 'pk.eyJ1IjoiYmd1cm5lZXQiLCJhIjoiY2s4aXBteG42MDNmYTNtbzB4Z2FjeXFxcSJ9.38w36WEgv4HqjYTNiPcz_Q'});

    function autocompleteSuggestionMapBoxAPI(inputParams, callback) {
        geocodingClient.geocoding.forwardGeocode({
            query: inputParams,
            proximity: [coordsLng, coordsLat],
            types: ["poi", "postcode"],
            autocomplete: true,
            limit: 10,
        })
            .send()
            .then(response => {
                const match = response.body;
                var features = [];
                match.features.forEach(function(value) {
                  if(value.properties.category.includes("super") || value.properties.category.includes("groceries") || value.properties.category.includes("grocery") || value.properties.category.includes("market") || value.properties.category.includes("store") || value.properties.category.includes("minimart") || value.properties.category.includes("mini mart") || value.properties.category.includes("convenience")) {
                    features.push(value);
                  }
                })
                callback(features.slice(0, 5));
            });
    }

    function autocompleteInputBox(inp) {
        var currentFocus;
        inp.addEventListener("input", function (e) {
            var a, b, i, val = this.value;
            closeAllLists();
            if (!val) {
                return false;
            }
            currentFocus = -1;
            a = document.createElement("DIV");
            a.setAttribute("id", this.id + "autocomplete-list");
            a.setAttribute("class", "autocomplete-items");
            this.parentNode.appendChild(a);

            // suggestion list MapBox api called with callback
            autocompleteSuggestionMapBoxAPI($('#myInput').val(), function (results) {
              console.log(results);
                results.forEach(function (key) {
                    b = document.createElement("DIV");
                    b.innerHTML = "<strong>" + key.place_name.substr(0, val.length) + "</strong>";
                    b.innerHTML += key.place_name.substr(val.length);
                    b.innerHTML += "<input type='hidden' data-lat='" + key.geometry.coordinates[1] + "' data-lng='" + key.geometry.coordinates[0] + "'  value='" + key.place_name + "'>";
                    b.addEventListener("click", function (e) {
                        let lat = $(this).find('input').attr('data-lat');
                        let long = $(this).find('input').attr('data-lng');
                        inp.value = $(this).find('input').val();
                        $(inp).attr('data-lat', lat);
                        $(inp).attr('data-lng', long);
                        if(selectedLocationMarker) {
                          selectedLocationMarker.remove();
                        }
                        selectedLocationMarker = new mapboxgl.Marker()
            .setLngLat([long, lat])
            .addTo(map);
            map.fitBounds([[coordsLng, coordsLat], [long, lat]]);
                        closeAllLists();
                    });
                    a.appendChild(b);
                });
            })
        });


        /*execute a function presses a key on the keyboard:*/
        inp.addEventListener("keydown", function (e) {
            var x = document.getElementById(this.id + "autocomplete-list");
            if (x) x = x.getElementsByTagName("div");
            if (e.keyCode == 40) {
                /*If the arrow DOWN key is pressed,
                increase the currentFocus variable:*/
                currentFocus++;
                /*and and make the current item more visible:*/
                addActive(x);
            } else if (e.keyCode == 38) { //up
                /*If the arrow UP key is pressed,
                decrease the currentFocus variable:*/
                currentFocus--;
                /*and and make the current item more visible:*/
                addActive(x);
            } else if (e.keyCode == 13) {
                /*If the ENTER key is pressed, prevent the form from being submitted,*/
                e.preventDefault();
                if (currentFocus > -1) {
                    /*and simulate a click on the "active" item:*/
                    if (x) x[currentFocus].click();
                }
            }
        });

        function addActive(x) {
            /*a function to classify an item as "active":*/
            if (!x) return false;
            /*start by removing the "active" class on all items:*/
            removeActive(x);
            if (currentFocus >= x.length) currentFocus = 0;
            if (currentFocus < 0) currentFocus = (x.length - 1);
            /*add class "autocomplete-active":*/
            x[currentFocus].classList.add("autocomplete-active");
        }

        function removeActive(x) {
            /*a function to remove the "active" class from all autocomplete items:*/
            for (var i = 0; i < x.length; i++) {
                x[i].classList.remove("autocomplete-active");
            }
        }

        function closeAllLists(elmnt) {
            /*close all autocomplete lists in the document,
            except the one passed as an argument:*/
            var x = document.getElementsByClassName("autocomplete-items");
            for (var i = 0; i < x.length; i++) {
                if (elmnt != x[i] && elmnt != inp) {
                    x[i].parentNode.removeChild(x[i]);
                }
            }
        }

        /*execute a function when someone clicks in the document:*/
        document.addEventListener("click", function (e) {
            closeAllLists(e.target);
        });
    }

    autocompleteInputBox(document.getElementById("myInput"));
</script>

</body>
</html>
